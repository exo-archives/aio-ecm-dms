<?xml version="1.0" encoding="UTF-8"?>
<configuration>

	<component>
    <key>org.exoplatform.services.cms.templates.TemplateService</key>
    <type>org.exoplatform.services.cms.templates.impl.TemplateServiceImpl</type>    
  </component>
    
   <external-component-plugins>
    <target-component>org.exoplatform.services.cms.templates.TemplateService</target-component>
      <component-plugin>
        <name>addTemplates</name>
        <set-method>addTemplates</set-method>
        <type>org.exoplatform.services.cms.templates.impl.TemplatePlugin</type>    
        <init-params>
	        <value-param>
	        	<name>autoCreateInNewRepository</name>
	        	<value>true</value>
	        </value-param>
	        <value-param>
	        	<name>storedLocation</name>
	        	<value>jar:/resources/templates/workflowAction</value>
	        </value-param>
	        <value-param>
	        	<name>repository</name>
	        	<value>repository</value>
	        </value-param>	        
          <object-param>
            <name>template.configuration</name>
            <description>configuration for the localtion of templates to inject in jcr</description>
            <object type="org.exoplatform.services.cms.templates.impl.TemplateConfig">            	
              <field name="nodeTypes">
                <collection type="java.util.ArrayList">               
                  <value>
                    <object type="org.exoplatform.services.cms.templates.impl.TemplateConfig$NodeType">
                      <field name="nodetypeName"><string>publication:workflowAction</string></field>
                      <field name="documentTemplate"><boolean>false</boolean></field>
                      <field name="label"><string>Workflow Publication Action</string></field>
                      <field name="referencedView">
                        <collection type="java.util.ArrayList">
                          <value>
                            <object type="org.exoplatform.services.cms.templates.impl.TemplateConfig$Template">             
                              <field name="templateFile"><string>/workflowActionView.gtmpl</string></field>
                              <field name="roles"><string>*</string></field>                
                            </object>                           
                          </value>  
                        </collection>
                      </field>                  
                      <field name="referencedDialog">
                        <collection type="java.util.ArrayList">
                          <value>
                            <object type="org.exoplatform.services.cms.templates.impl.TemplateConfig$Template">             
                              <field name="templateFile"><string>/workflowActionDialog.gtmpl</string></field>
                              <field name="roles"><string>*</string></field>                
                            </object>                           
                          </value>                      
                        </collection>
                      </field>                                    
                    </object>
                  </value> 
                </collection>
              </field>
            </object>
          </object-param>
        </init-params>       
      </component-plugin>
  </external-component-plugins>
  
</configuration>