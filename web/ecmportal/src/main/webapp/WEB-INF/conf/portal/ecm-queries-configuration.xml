<?xml version="1.0" encoding="ISO-8859-1"?>

<configuration>
   <external-component-plugins>
    <target-component>org.exoplatform.services.cms.queries.QueryService</target-component>    
      <component-plugin> 
        <name>query.plugin</name>
        <set-method>setQueryPlugin</set-method>
        <type>org.exoplatform.services.cms.queries.impl.QueryPlugin</type>
        <description>Nothing</description>
        <init-params>
          <object-param>        
            <name>News</name>
            <description>Nothing</description>
            <object type="org.exoplatform.services.cms.queries.impl.QueryData">
              <field  name="autoCreatedInNewRepository"><boolean>true</boolean></field>
              <field  name="repository"><string>repository</string></field>
              <field  name="name"><string>news</string></field>
              <field  name="language"><string>xpath</string></field>
              <field  name="statement"><string>/jcr:root/site/news//element(*,exo:article) order by @exo:startPublication descending</string></field>
              <field  name="permissions"><string>*:/user</string></field>
              <field  name="cachedResult"><boolean>true</boolean></field>             
            </object>
          </object-param>
          <object-param>        
            <name>Events</name>
            <description>Nothing</description>
            <object type="org.exoplatform.services.cms.queries.impl.QueryData">
              <field  name="autoCreatedInNewRepository"><boolean>true</boolean></field>
              <field  name="repository"><string>repository</string></field>
              <field  name="name"><string>events</string></field>
              <field  name="language"><string>xpath</string></field>
              <field  name="statement"><string>/jcr:root/site/events//element(*,exo:event) order by @exo:dtstart descending</string></field>
              <field  name="permissions"><string>*:/user</string></field>
              <field  name="cachedResult"><boolean>true</boolean></field>             
            </object>
          </object-param>          
        </init-params>  
      </component-plugin> 
  </external-component-plugins>
</configuration>
